# ホームページ改善仕様書

## 📋 概要

現状のホームページは「開催中」「終了」の2セクション構成で、お題カードが単調。
YouTube的なUXを参考に、フック情報を増やし、ユーザーのスクロール・探索を促す設計へ改善する。

---

## 🎯 課題

- お題カードが単調（見た瞬間の「フック情報」が少ない）
- ユーザー行動が「クリックして開く」一択
- 詳細画面も「お題＋回答一覧」で止まっている（文脈や動きが乏しい）

---

## 🏗️ 実装フェーズ

### **Phase 1: カード＆基本レイアウト改善**

#### **1-1. お題カードコンポーネントのリッチ化**

**対象ファイル:** `components/topic-card.tsx`（新規作成）

**追加情報:**
- 投稿者名 or アイコン
- ミニタグ（#物理 #AI など2〜3個横並び）
- 回答数・閲覧数・いいね数
- 小さなサムネ（テーマに合わせた背景色 or アイコン）
- 「🔥トレンド」「⭐新着」「⏰終了間近」バッジ

**カード構成:**
```
┌─────────────────────────────┐
│ [サムネ背景]                  │
│   🔥トレンド  👁️1.2k 💬45    │
├─────────────────────────────┤
│ [アイコン] 投稿者名           │
│ #042 お題タイトル             │
│ #物理 #AI                   │
│ 回答45件 · 2時間前            │
└─────────────────────────────┘
```

**実装内容:**
- [ ] `TopicCard` コンポーネント作成
- [ ] 投稿者情報の表示
- [ ] タグ表示（最大3個）
- [ ] 統計情報（回答数・閲覧数・いいね数）
- [ ] バッジ表示ロジック（トレンド/新着/終了間近の判定）
- [ ] テーマカラー背景生成（subject に応じた色）

---

#### **1-2. カードホバーアニメーション＆プレビュー**

**対象ファイル:** `components/topic-card.tsx`

**ホバー時の挙動:**
- カード拡大（scale: 1.02〜1.05）
- シャドウ強化
- ベスト回答1件をツールチップ/フェードインで表示
- 「いいね」「ブックマーク」ボタンの出現（オプション）

**実装内容:**
- [ ] ホバー時のCSS transition実装
- [ ] ベスト回答データの取得ロジック
- [ ] プレビュー表示（Tooltip or HoverCard使用）
- [ ] クイックアクションボタン実装（いいね/ブックマーク）

---

#### **1-3. グリッドレイアウト変更**

**対象ファイル:** `app/page.tsx`

**変更内容:**
- 縦積みリストから、グリッドレイアウトへ変更
- デスクトップ: 3カラム
- タブレット: 2カラム
- モバイル: 1カラム

**実装内容:**
- [ ] グリッドレイアウトのCSS実装
- [ ] レスポンシブ対応（Tailwind grid使用）
- [ ] カード間の余白調整

---

### **Phase 2: ナビゲーション＆フィルタリング**

#### **2-1. カテゴリータブの追加**

**対象ファイル:** `components/category-tabs.tsx`（新規作成）

**タブ項目:**
- すべて
- 🔥注目
- ⭐新着
- ⏰終了間近
- フォロー中（ログイン時）

**実装内容:**
- [ ] `CategoryTabs` コンポーネント作成
- [ ] タブ切り替え機能（useState使用）
- [ ] 横スクロール対応（ScrollArea使用）
- [ ] アクティブタブのハイライト表示
- [ ] `app/page.tsx` に統合

---

#### **2-2. タグフィルター機能**

**対象ファイル:** `components/tag-filter.tsx`（新規作成）

**機能:**
- タグ一覧の表示（横スクロールチップ）
- クリックでフィルタリング
- 複数タグ選択可能

**実装内容:**
- [ ] `TagFilter` コンポーネント作成
- [ ] タグデータの取得（API or サンプルデータ）
- [ ] フィルター状態管理（useState or URL params）
- [ ] フィルター適用ロジック

---

#### **2-3. 検索バーの実装**

**対象ファイル:** `components/search-bar.tsx`（新規作成）

**機能:**
- お題タイトル検索
- タグ検索
- 投稿者検索

**実装内容:**
- [ ] 検索入力フォーム
- [ ] 検索結果のフィルタリング
- [ ] 検索サジェスト機能（オプション）
- [ ] ヘッダーナビゲーションに統合

---

### **Phase 3: 注目コンテンツ＆セクション強化**

#### **3-1. 注目セクション（ヒーローエリア）**

**対象ファイル:** `components/featured-section.tsx`（新規作成）

**表示内容:**
- 今週の殿堂入り大喜利（上位3件）
- 大きめのカード表示
- カルーセル形式（オプション）

**実装内容:**
- [ ] `FeaturedSection` コンポーネント作成
- [ ] 殿堂入りロジック（いいね数・回答数ベース）
- [ ] 大型カードデザイン
- [ ] カルーセル実装（shadcn/ui Carousel使用）
- [ ] `app/page.tsx` の上部に配置

---

#### **3-2. セクション区切り（おすすめ・フォロー中など）**

**対象ファイル:** `app/page.tsx`

**追加セクション:**
- 「あなたへのおすすめ」
- 「フォロー中のユーザーの新作」
- 「このタグもチェック: #物理」

**実装内容:**
- [ ] セクションヘッダーコンポーネント作成
- [ ] レコメンドロジック実装（簡易版）
- [ ] フォロー中フィルター
- [ ] タグ関連お題の表示

---

#### **3-3. インライン挿入コンテンツ**

**対象ファイル:** `components/inline-cta.tsx`（新規作成）

**挿入内容:**
- 「初めての方へ」ガイドバナー
- 「お題を投稿してみよう」CTA

**実装内容:**
- [ ] CTAカードコンポーネント作成
- [ ] 6〜8枚に1枚の頻度で挿入
- [ ] デザイン（目立つが邪魔にならない）

---

### **Phase 4: サイドバー＆リアルタイム要素**

#### **4-1. リアルタイムアクティビティサイドバー**

**対象ファイル:** `components/activity-sidebar.tsx`（新規作成）

**表示内容:**
- 今投稿された回答フィード
- オンラインユーザー数
- リアルタイム通知

**実装内容:**
- [ ] `ActivitySidebar` コンポーネント作成
- [ ] リアルタイム更新（polling or WebSocket）
- [ ] デスクトップのみ表示（レスポンシブ対応）
- [ ] `app/page.tsx` のレイアウトに統合

---

#### **4-2. 週間ランキング表示**

**対象ファイル:** `components/ranking-widget.tsx`（新規作成）

**表示内容:**
- トップ大喜利師（回答者ランキング）
- バズってるタグ

**実装内容:**
- [ ] ランキング取得ロジック
- [ ] ランキング表示UI
- [ ] サイドバーに統合

---

### **Phase 5: UX向上＆パフォーマンス**

#### **5-1. 無限スクロール実装**

**対象ファイル:** `app/page.tsx`

**機能:**
- スクロール時に自動読み込み
- スケルトンローディング表示

**実装内容:**
- [ ] Intersection Observer実装
- [ ] ページネーション対応
- [ ] スケルトンカード作成（shadcn/ui Skeleton使用）
- [ ] ローディング状態管理

---

#### **5-2. フローティング要素**

**対象ファイル:** `components/floating-buttons.tsx`（新規作成）

**要素:**
- スクロールトップボタン
- クイック投稿ボタン（+アイコン）

**実装内容:**
- [ ] スクロールトップボタン実装
- [ ] クイック投稿モーダル/ダイアログ
- [ ] 固定配置（右下）

---

#### **5-3. アニメーション強化**

**対象ファイル:** 全体

**強化内容:**
- ページ遷移アニメーション
- カード出現アニメーション（Fade in）
- マイクロインタラクション

**実装内容:**
- [ ] Framer Motion導入（オプション）
- [ ] CSS transition最適化
- [ ] スクロールアニメーション

---

## 📂 ファイル構成（完成後）

```
app/
├── page.tsx (ホームページメイン)
└── ...

components/
├── topic-card.tsx (お題カード)
├── category-tabs.tsx (カテゴリータブ)
├── tag-filter.tsx (タグフィルター)
├── search-bar.tsx (検索バー)
├── featured-section.tsx (注目セクション)
├── inline-cta.tsx (CTAバナー)
├── activity-sidebar.tsx (アクティビティサイドバー)
├── ranking-widget.tsx (ランキング)
└── floating-buttons.tsx (フローティングボタン)
```

---

## 🎨 デザインガイドライン

### カラーパレット
- **メインカラー:** `#F4C300` (黄色)
- **トレンド:** `#EF4444` (赤)
- **新着:** `#3B82F6` (青)
- **終了間近:** `#F59E0B` (オレンジ)

### タイポグラフィ
- **見出し:** `font-black` (900)
- **本文:** `font-bold` (700)
- **補足:** `font-medium` (500)

### スペーシング
- カード間: `gap-4` (1rem)
- セクション間: `pt-12` (3rem)

---

## 📝 実装手順の指定方法

実装時は以下の形式で番号を指定してください:

```
Phase 1-1 を実装してください
```

```
Phase 2-2 と Phase 2-3 を実装してください
```

各Phaseは独立して実装可能ですが、以下の依存関係があります:
- Phase 2 は Phase 1-1 完了後が望ましい
- Phase 3 は Phase 1 完了後が望ましい
- Phase 4 は独立実装可能
- Phase 5 は全Phase完了後が望ましい

---

## 🔄 更新履歴

- 2025-10-21: 初版作成
- 2025-10-21: Phase 6（パーソナライズ＆AI機能）を削除
